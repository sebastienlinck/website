function fcookie(){if(!0===window.cookieAccepted||document.cookie&&document.cookie.includes("__Secure-cookieDef"))return;const e=document.querySelector("#cookie");if(!e)return;setTimeout(()=>{e.classList.add("show")},1e3);const t=document.querySelector("#cookie-button");t&&t.addEventListener("click",o=>{e.classList.remove("show");const n=t.getAttribute("href")||t.dataset.acceptUrl;n&&(window.location.href=n)})}function convertNumberToWords(e){const t=["zÃ©ro","un","deux","trois","quatre","cinq","six","sept","huit","neuf"];return t[e]}function generateCaptcha(){const e=document.getElementById("captcha-question"),t=document.getElementById("refresh-captcha");if(!e||!t)return;const o=Math.floor(10*Math.random()),n=Math.floor(10*Math.random()),a=["plus","moins","fois"],c=a[Math.floor(Math.random()*a.length)];let s,r;switch(c){case"plus":s=o+n;break;case"moins":s=o-n;break;case"fois":s=o*n;break;default:s=0}switch(c){case"plus":r=`${convertNumberToWords(o)} plus ${convertNumberToWords(n)}`;break;case"moins":r=`${convertNumberToWords(o)} moins ${convertNumberToWords(n)}`;break;case"fois":r=`${convertNumberToWords(o)} fois ${convertNumberToWords(n)}`;break;default:r=""}e.textContent=r,e.dataset.solution=s,t.addEventListener("click",generateCaptcha,{once:!0})}function checkCaptchaAndUpdateButton(){const e=document.getElementById("captcha"),t=document.getElementById("captcha-question"),o=document.getElementById("envoyer-contact");if(e&&t&&o){const n=parseInt(e.value),a=parseInt(t.dataset.solution);return isNaN(n)||n!==a?(o.disabled=!0,!1):(o.disabled=!1,!0)}return!1}window.addEventListener("load",fcookie),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-toggle"),t=document.documentElement,o=localStorage.getItem("theme");o?t.setAttribute("data-theme",o):window.matchMedia("(prefers-color-scheme: dark)").matches&&t.setAttribute("data-theme","dark"),e&&e.addEventListener("click",()=>{const e=t.getAttribute("data-theme"),o="dark"===e?"light":"dark";t.setAttribute("data-theme",o),localStorage.setItem("theme",o)})}),document.addEventListener("DOMContentLoaded",()=>{generateCaptcha();const e=document.getElementById("contact-form"),t=document.getElementById("envoyer-contact");if(e&&t){t.disabled=!0;const o=document.getElementById("captcha");o&&o.addEventListener("input",function(){checkCaptchaAndUpdateButton()}),e.addEventListener("submit",async function(e){if(e.preventDefault(),checkCaptchaAndUpdateButton()){const o=e.target,n=new FormData(o),a=document.getElementById("status-message");a&&(a.innerHTML="");try{const e=await fetch("contact.php",{method:"POST",body:n}),c=await e.json();c.success?(showStatusMessage(c.message,"success",a),o.reset(),generateCaptcha(),t.disabled=!0):showStatusMessage(c.message,"error",a)}catch(e){showStatusMessage("Erreur technique lors de l'envoi du message.","error",a)}}})}});